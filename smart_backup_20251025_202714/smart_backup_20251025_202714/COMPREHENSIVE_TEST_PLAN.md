# خطة الاختبار الشاملة لتطبيق الأندرويد

## 1. مقدمة

تحدد هذه الوثيقة خطة الاختبار الشاملة لتطبيق الأندرويد، مع التركيز على الميزات الجديدة التي تم تنفيذها: نظام النقاط والمكافآت، نظام الدردشة، وإدارة الحملات التسويقية، بالإضافة إلى ميزات تحليل الذكاء الاصطناعي ومزامنة البيانات السحابية. الهدف هو ضمان أن التطبيق يعمل بشكل صحيح، ويلبي جميع المتطلبات الوظيفية وغير الوظيفية، ويوفر تجربة مستخدم سلسة.

## 2. أهداف الاختبار

- التحقق من أن جميع الميزات الجديدة تعمل كما هو متوقع.
- ضمان تكامل الميزات الجديدة مع الميزات الحالية للتطبيق.
- تحديد وإصلاح أي أخطاء أو مشكلات في الأداء.
- التحقق من استجابة واجهة المستخدم وسهولة الاستخدام.
- التأكد من أمان البيانات وخصوصيتها.
- التحقق من وظائف مزامنة البيانات السحابية.

## 3. نطاق الاختبار

### 3.1. الميزات المشمولة في الاختبار

- **نظام النقاط والمكافآت:**
    - إضافة واسترداد النقاط.
    - إنشاء وتعديل وحذف المكافآت.
    - تتبع مكافآت المستخدمين.
    - حساب النقاط ومنطق استرداد المكافآت.
    - واجهة المستخدم لجميع شاشات النقاط والمكافآت.
- **نظام الدردشة:**
    - إرسال واستقبال الرسائل بين المستخدمين.
    - عرض قائمة المحادثات وتفاصيل المحادثة.
    - تحديث حالة الرسائل (مقروءة/غير مقروءة).
    - إشعارات الرسائل الجديدة (إذا تم تنفيذها).
- **إدارة الحملات التسويقية:**
    - إنشاء وتعديل وحذف الحملات التسويقية.
    - عرض تفاصيل الحملة وحالتها.
    - استهداف الجمهور وأنواع الحملات.
- **ميزات تحليل الذكاء الاصطناعي (مخطط لها):**
    - التصنيف التلقائي للمعاملات.
    - اكتشاف الشذوذ في المعاملات.
    - التنبؤ بالتدفقات النقدية الأساسية.
- **مزامنة البيانات السحابية (مخطط لها):**
    - مزامنة البيانات بين الجهاز والخادم السحابي.
    - التعامل مع تعارضات البيانات.
    - استعادة البيانات من السحابة.
- **الميزات الأساسية للتطبيق:**
    - تسجيل الدخول وتسجيل المستخدمين.
    - إدارة الشركات والمستخدمين.
    - إدارة الحسابات، الأصناف، العملاء، الموردين، الفواتير، قيود اليومية، إلخ.

### 3.2. الميزات غير المشمولة في الاختبار (في هذه المرحلة)

- اختبار الأداء تحت الحمل الثقيل.
- اختبار الاختراق الأمني الشامل.

## 4. استراتيجية الاختبار

سيتم استخدام مزيج من الاختبارات اليدوية والآلية (حيثما ينطبق ذلك) لضمان التغطية الشاملة. سيتم التركيز على اختبار التكامل، واختبار الوظائف، واختبار واجهة المستخدم/تجربة المستخدم.

## 5. حالات الاختبار (أمثلة)

سيتم تطوير حالات اختبار مفصلة لكل ميزة. فيما يلي أمثلة على أنواع حالات الاختبار التي سيتم تضمينها:

### 5.1. نظام النقاط والمكافآت

| معرف حالة الاختبار | الميزة | وصف الاختبار | النتيجة المتوقعة |
| :--- | :--- | :--- | :--- |
| **PR-TC-001** | إضافة نقاط | إضافة 100 نقطة لمستخدم معين. | يتم إنشاء `PointTransaction` بنجاح، وتزداد نقاط المستخدم الإجمالية. |
| **PR-TC-002** | استرداد مكافأة | محاولة استرداد مكافأة تتطلب 500 نقطة لمستخدم لديه 600 نقطة. | يتم إنشاء `UserReward`، وتُخصم 500 نقطة من المستخدم، وتقل نقاطه الإجمالية إلى 100. |
| **PR-TC-003** | استرداد مكافأة (نقاط غير كافية) | محاولة استرداد مكافأة تتطلب 500 نقطة لمستخدم لديه 300 نقطة. | تفشل عملية الاسترداد، ويتم عرض رسالة خطأ مناسبة. |
| **PR-TC-004** | إنشاء مكافأة | إنشاء مكافأة جديدة باسم "خصم 10%" وتتطلب 200 نقطة. | يتم حفظ المكافأة بنجاح وتظهر في قائمة المكافآت. |

### 5.2. نظام الدردشة

| معرف حالة الاختبار | الميزة | وصف الاختبار | النتيجة المتوقعة |
| :--- | :--- | :--- | :--- |
| **CHAT-TC-001** | إرسال رسالة | يرسل المستخدم "أ" رسالة نصية إلى المستخدم "ب". | تظهر الرسالة في محادثة المستخدم "أ" والمستخدم "ب". |
| **CHAT-TC-002** | قراءة الرسائل | يفتح المستخدم "ب" المحادثة مع المستخدم "أ" بعد استلام رسالة جديدة. | يتم وضع علامة "مقروءة" على الرسالة، ويختفي عداد الرسائل غير المقروءة. |
| **CHAT-TC-003** | قائمة المحادثات | عرض قائمة المحادثات للمستخدم. | تظهر جميع المحادثات، مع عرض آخر رسالة ووقت إرسالها، وعدد الرسائل غير المقروءة لكل محادثة. |

### 5.3. إدارة الحملات التسويقية

| معرف حالة الاختبار | الميزة | وصف الاختبار | النتيجة المتوقعة |
| :--- | :--- | :--- | :--- |
| **CAMP-TC-001** | إنشاء حملة | إنشاء حملة تسويقية جديدة بحالة "مسودة". | يتم حفظ الحملة بنجاح وتظهر في قائمة الحملات. |
| **CAMP-TC-002** | تحديث حالة الحملة | تغيير حالة حملة من "مسودة" إلى "نشطة". | يتم تحديث حالة الحملة بنجاح، وتنعكس في واجهة المستخدم. |
| **CAMP-TC-003** | عرض تفاصيل الحملة | النقر على حملة في القائمة لعرض تفاصيلها. | يتم عرض جميع تفاصيل الحملة بشكل صحيح (الاسم، الوصف، التواريخ، الحالة، الجمهور المستهدف، النوع). |

### 5.4. ميزات تحليل الذكاء الاصطناعي (المخطط لها)

| معرف حالة الاختبار | الميزة | وصف الاختبار | النتيجة المتوقعة |
| :--- | :--- | :--- | :--- |
| **AI-TC-001** | تصنيف المعاملات | إدخال معاملة جديدة بوصف "شراء قهوة". | يتم تصنيف المعاملة تلقائيًا ضمن فئة "المصروفات الشخصية" أو "المشروبات". |
| **AI-TC-002** | اكتشاف الشذوذ | إدخال معاملة كبيرة وغير متوقعة. | يتم وضع علامة على المعاملة كـ "شاذة" أو "تتطلب مراجعة". |

### 5.5. مزامنة البيانات السحابية (المخطط لها)

| معرف حالة الاختبار | الميزة | وصف الاختبار | النتيجة المتوقعة |
| :--- | :--- | :--- | :--- |
| **SYNC-TC-001** | مزامنة البيانات | إجراء تغييرات على البيانات محليًا ثم تشغيل المزامنة. | يتم تحميل التغييرات إلى الخادم السحابي بنجاح، وتنعكس على الأجهزة الأخرى (إذا كانت متصلة). |
| **SYNC-TC-002** | حل التعارضات | إجراء تغييرات على نفس البيانات محليًا وعلى الخادم السحابي ثم تشغيل المزامنة. | يتم حل التعارضات وفقًا للاستراتيجية المحددة (مثل "آخر تحديث يفوز" أو "مطالبة المستخدم بالحل"). |

## 6. بيئة الاختبار

- **الجهاز:** محاكي أندرويد (Pixel 6, API 33) وأجهزة أندرويد فعلية (متنوعة).
- **نظام التشغيل:** أندرويد 13 فما فوق.
- **قاعدة البيانات:** SQLite (Room).
- **الخادم السحابي:** (سيتم تحديده عند تنفيذ المزامنة).

## 7. تنفيذ الاختبار

سيتم تنفيذ الاختبارات يدويًا في البداية، مع إمكانية أتمتة بعضها في المستقبل. سيتم تسجيل أي عيوب يتم العثور عليها وتتبعها حتى يتم حلها. سيتم استخدام أدوات تتبع الأخطاء لتسجيل المشكلات وتصنيفها وتحديد أولوياتها.

## 8. معايير النجاح

- اجتياز 100% من حالات الاختبار الحرجة.
- اجتياز 95% على الأقل من جميع حالات الاختبار.
- عدم وجود أخطاء "حرجة" أو "عالية" عند الإصدار.
- استقرار التطبيق وأدائه المقبول.
- رضا المستخدم عن واجهة المستخدم وتجربة الاستخدام.

## 9. الخطوات التالية

- تطوير حالات اختبار مفصلة لكل ميزة بناءً على الأمثلة المذكورة أعلاه.
- إعداد بيئة الاختبار وتوفير البيانات التجريبية.
- بدء تنفيذ الاختبارات وتوثيق النتائج.

